(this["webpackJsonpreact_vol.1"]=this["webpackJsonpreact_vol.1"]||[]).push([[3],{300:function(e,t,a){e.exports={bg_img:"ProfileInfo_bg_img__eVfA1",profile_img:"ProfileInfo_profile_img__2rfz9",image_chooser:"ProfileInfo_image_chooser__2Z-Yp",profile_desc:"ProfileInfo_profile_desc__Ydm8r",name:"ProfileInfo_name__105jw",photo_icon:"ProfileInfo_photo_icon__14VBY"}},304:function(e,t,a){},305:function(e,t,a){e.exports=a.p+"static/media/photo_icon.dabff480.png"},306:function(e,t,a){e.exports={posts:"MyPosts_posts__3YWpk"}},307:function(e,t,a){e.exports={post:"Post_post__3RfXT",person_img:"Post_person_img__20c9r"}},308:function(e,t,a){"use strict";a.r(t);var o=a(29),n=a(30),r=a(32),s=a(31),i=a(0),l=a.n(i),c=(a(304),a(67)),u=a(300),p=a.n(u),m=a(37),f=function(e){var t=Object(i.useState)(!1),a=Object(c.a)(t,2),o=a[0],n=a[1],r=Object(i.useState)(e.status),s=Object(c.a)(r,2),u=s[0],p=s[1];Object(i.useEffect)((function(){p(e.status)}),[e.status]);return l.a.createElement("div",null,o?l.a.createElement("input",{onChange:function(e){p(e.currentTarget.value)},autoFocus:!0,onBlur:function(){n(!1),e.updateStatus(u)},value:u}):l.a.createElement("div",{onDoubleClick:function(){n(!0)}},e.status||"no status"))},d=(a(107),a(305)),v=a.n(d),b=a(57),h=a(58),E=a(130),_=a(131),g=Object(_.a)({form:"profileDesc"})((function(e){var t=e.handleSubmit,a=e.profile,o=e.error;return l.a.createElement("form",{className:p.a.profile_desc,onSubmit:t},l.a.createElement("button",null,"save"),o&&l.a.createElement("div",null,o),l.a.createElement(E.a,{component:b.a,type:"text",name:"fullName",placeholder:"name",validate:[]}),l.a.createElement("div",null," about me:"),l.a.createElement(E.a,{component:b.a,type:"text",name:"aboutMe",placeholder:"about me",validate:[]}),l.a.createElement("div",null,"Looking for a job: "),l.a.createElement(E.a,{component:"input",name:"lookingForAJob",type:"checkbox",validate:[]}),l.a.createElement("div",null,"My professional skills "),l.a.createElement(E.a,{component:b.b,name:"lookingForAJobDescription",type:"text",validate:[]}),l.a.createElement("div",null,"Contacts:",Object.keys(a.contacts).map((function(e){return l.a.createElement("div",{key:e},e,": ",l.a.createElement(E.a,{component:b.a,type:"text",name:"contacts."+e,placeholder:e,validate:[]}))}))))})),P=function(e){var t=e.profile,a=(e.updateStatus,e.status,e.isOwner),o=e.goToEditMode;return l.a.createElement("div",{className:p.a.profile_desc},a&&l.a.createElement("button",{onClick:o},"edit"),l.a.createElement("div",{className:p.a.name},t.fullName),l.a.createElement("div",null,"about me:",t.aboutMe),l.a.createElement("div",null,"Looking for a job: ",t.lookingForAJob?"on":"off"),l.a.createElement("div",null,"My professional skills ",t.lookingForAJobDescription),Object.keys(t.contacts).map((function(e){return l.a.createElement(k,{key:e,contactTitle:e,contactValue:t.contacts[e]})})))},k=function(e){var t=e.contactTitle,a=e.contactValue;return l.a.createElement("div",null,t," : ",a)},O=function(e){var t=Object(i.useState)(!1),a=Object(c.a)(t,2),o=a[0],n=a[1];if(!e.profile)return l.a.createElement(m.a,null);return l.a.createElement("div",{className:p.a.profile_info},l.a.createElement("div",{className:p.a.profile_img,style:{backgroundImage:"url(".concat(e.profile.photos.large,")")||!1}},e.isOwner&&l.a.createElement("div",{className:p.a.image_chooser},l.a.createElement("img",{className:p.a.photo_icon,src:v.a,alt:""}),l.a.createElement("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}}))),l.a.createElement("div",{className:p.a.profile_desc},l.a.createElement(f,{status:e.status,updateStatus:e.updateStatus})),o?l.a.createElement(g,{initialValues:e.profile,profile:e.profile,onSubmit:function(t){e.saveProfile(t).then((function(){n(!1)}))}}):l.a.createElement(P,{profile:e.profile,updateStatus:e.updateStatus,status:e.status,isOwner:e.isOwner,goToEditMode:function(){n(!0)}}))},j=a(306),S=a.n(j),y=a(307),I=a.n(y),N=function(e){return l.a.createElement("div",{className:I.a.post},l.a.createElement("div",{className:I.a.person_img}),e.message,l.a.createElement("div",null," likes ",e.likes))},x=Object(h.a)(10),w=Object(_.a)({form:"post_form"})((function(e){return l.a.createElement("form",{className:S.a.form,onSubmit:e.handleSubmit},l.a.createElement(E.a,{component:b.b,name:"postText",validate:[h.b,x],placeholder:"post text"}),l.a.createElement("button",null,"add post"))})),M=Object(i.memo)((function(e){var t=e.posts.map((function(e){return l.a.createElement(N,{key:e.id,message:e.message,likes:e.likes})}));return l.a.createElement("div",null,l.a.createElement(w,{onSubmit:function(t){e.addPost(t.postText)}}),l.a.createElement("div",{className:S.a.posts},t))})),T=a(97),C=a(15),D=Object(C.b)((function(e){return{posts:e.profilePage.posts}}),{addPost:T.a})(M),J=function(e){return l.a.createElement("div",null,l.a.createElement(O,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto,isOwner:e.isOwner,saveProfile:e.saveProfile}),l.a.createElement(D,null))},A=a(11),F=a(96),V=a(9),Y=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userId)||this.props.history.push("/login"),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){e.match.params.userId!==this.props.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return l.a.createElement(J,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),a}(l.a.Component);t.default=Object(V.d)(Object(C.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,userId:e.auth.userId}}),{getProfile:T.c,getStatus:T.d,updateStatus:T.g,savePhoto:T.e,saveProfile:T.f}),A.g,F.a)(Y)}}]);
//# sourceMappingURL=3.afd8b45a.chunk.js.map